<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Aggregation Method: DistributionWAgg — DistributionWAgg • aggreCAT</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Aggregation Method: DistributionWAgg — DistributionWAgg"><meta property="og:description" content="Calculate the arithmetic mean of distributions created with expert judgements.
The aggregate is the median of the average distribution fitted on the individual estimates."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aggreCAT</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9004</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Aggregation Method: DistributionWAgg</h1>
    
    <div class="hidden name"><code>DistributionWAgg.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate the arithmetic mean of distributions created with expert judgements.
The aggregate is the median of the average distribution fitted on the individual estimates.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">DistributionWAgg</span><span class="op">(</span></span>
<span>  <span class="va">expert_judgements</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"DistribArMean"</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  placeholder <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  percent_toggle <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>expert_judgements</dt>
<dd><p>A dataframe in the format of <a href="data_ratings.html">data_ratings</a>.</p></dd>


<dt>type</dt>
<dd><p>One of <code>"DistribArMean"</code> or <code>"TriDistribArMean"</code>.</p></dd>


<dt>name</dt>
<dd><p>Name for aggregation method. Defaults to <code>type</code> unless specified.</p></dd>


<dt>placeholder</dt>
<dd><p>Toggle the output of the aggregation method to impute placeholder data.</p></dd>


<dt>percent_toggle</dt>
<dd><p>Change the values to probabilities. Default is <code>FALSE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A tibble of confidence scores <code>cs</code> for each <code>paper_id</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script></p>
<p>This method assumes that the elicited probabilities and bounds can be considered
to represent participants' subjective distributions associated with relative
frequencies (rather than unique events). That is to say that we considered that
the lower bound of the individual per claim corresponds to the 5th percentile
of their subjective distribution on the probability of replication, denoted
\(q_{5,i}\), the best estimate corresponds to the median, \(q_{50,i}\), and the upper
bound corresponds to the 95th percentile, \(q_{95,i}\). With these three
percentiles, we can fit parametric or non-parametric distributions and aggregate
them rather than the (point) best estimates.</p>
<p><code>type</code> may be one of the following:</p>
<p><strong>DistribArMean</strong>: Applies a non-parametric distribution evenly across upper, lower and best estimates.</p>
<p>Using the three percentiles we can build the minimally
informative non-parametric distribution that spreads the mass uniformly between
the three percentiles.</p>
<p>\[F_{i}(x) = \begin{cases}
\displaystyle 0, \text{ for } x&lt;0 \cr
\displaystyle \frac{0.05}{q_{5,i}}\cdot x, \text{ for } 0 \leq x&lt; q_{5,i}\cr
\displaystyle \frac{0.45}{q_{50,i}-q_{5,i}}\cdot(x-q_{5,i})+0.05, \text{ for } q_{5,i}\leq x&lt; q_{50,i}\cr
\displaystyle \frac{0.45}{q_{95,i}-q_{50,i}}\cdot(x-q_{50,i})+0.5, \text{ for } q_{50,i}\leq x&lt; q_{95,i}\cr
\displaystyle \frac{0.05}{1 - q_{95,i}}\cdot(x-q_{95,i})+0.95, \text{ for } q_{95,i}\leq x&lt; 1\cr
\displaystyle 1,  \text{ for } x\geq 1.
\end{cases}\]</p>
<p>Then take the average of all constructed distributions of participants for each claim:</p>
<p>\[AvDistribution = \frac{1}{N}\sum_{i=1}^N F_i(x),\]</p>
<p>and the aggregation is the median of the average distribution:</p>
<p>\[\hat{p}_c\left( DistribArMean \right) = AvDistribution^{-1}(0.5).\]</p>
<p><strong>TriDistribArMean</strong>: Applies a triangular distribution to the upper, lower and best estimates.</p>
<p>A more restrictive fit with different assumptions about the
elicited best estimates, upper and lower bounds. We can assume that the lower and upper
bounds form the support of the distribution, and the best estimate corresponds to the mode.</p>
<p>\[F_i(x)=
\begin{cases}
\displaystyle 0, \text{ for } x &lt; L_{i} \cr
\displaystyle \frac{\left( x-L_{i}\right)^2}{\left( U_{i}-L_{i}\right)\left( B_{i}-L_{i}
\right)}, \text{ for } L_{i} \leq x &lt; B_{i}\cr
\displaystyle 1 - \frac{\left( U_{i}-x\right)^2}{\left( U_{i}-L_{i}\right)\left
( U_{i}-B_{i}\right)}, \text{ for } B_{i} &lt; x &lt; U_{i}\cr
\displaystyle 1,  \text{ for } x \geq U_{i}.
\end{cases}\]</p>
<p>Then take the average of all constructed distributions of participants for each claim:</p>
<p>\[    AvDistribution = \frac{1}{N}\sum_{i=1}^N F_i(x),\]</p>
<p>and the aggregation is the median of the average distribution:</p>
<p>\[    \hat{p}_c\left(TriDistribArMean\right) = AvDistribution^{-1}(0.5).\]</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="fu">DistributionWAgg</span><span class="op">(</span><span class="va">data_ratings</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Aaron Willcox, Charles T. Gray, Elliot Gould, David Wilkinson, Anca Hanea, Bonnie Wintle, Rose E. O’Dea.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

