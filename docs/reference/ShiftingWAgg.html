<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Aggregation Method: ShiftingWAgg — ShiftingWAgg • aggreCAT</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Aggregation Method: ShiftingWAgg — ShiftingWAgg"><meta property="og:description" content="Weighted by judgements that shift the most after discussion"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">aggreCAT</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9004</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Aggregation Method: ShiftingWAgg</h1>
    
    <div class="hidden name"><code>ShiftingWAgg.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Weighted by judgements that shift the most after discussion</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ShiftingWAgg</span><span class="op">(</span></span>
<span>  <span class="va">expert_judgements</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"ShiftWAgg"</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  placeholder <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  percent_toggle <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>expert_judgements</dt>
<dd><p>A dataframe in the format of <a href="data_ratings.html">data_ratings</a>.</p></dd>


<dt>type</dt>
<dd><p>One of <code>"ShiftWAgg"</code>, <code>"BestShiftWAgg"</code>, <code>"IntShiftWAgg"</code>, <code>"DistShiftWAgg"</code>, or <code>"DistIntShiftWAgg"</code>.</p></dd>


<dt>name</dt>
<dd><p>Name for aggregation method. Defaults to <code>type</code> unless specified.</p></dd>


<dt>placeholder</dt>
<dd><p>Toggle the output of the aggregation method to impute placeholder data.</p></dd>


<dt>percent_toggle</dt>
<dd><p>Change the values to probabilities. Default is <code>FALSE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A tibble of confidence scores <code>cs</code> for each <code>paper_id</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>When judgements are elicited using the IDEA protocol (or any other protocol that allows
experts to revisit their original estimates), the second round of estimates may differ
from the original first set of estimates an expert provides. Greater changes between rounds
will be given greater weight.</p>
<p><code>type</code> may be one of the following:</p>
<p><script id="MathJax-script" async src="../../mathjaxr/doc/mathjax/es5/tex-chtml-full.js"></script><strong>ShiftWAgg</strong>: Takes into account the shift in all three estimates</p>
<p>Considers shifts across lower, \(L_{i,c}\), and upper,
\(U_{i,c}\), confidence limits, and the best estimate, \(B_{i,c}\).
More emphasis is placed on changes in the best estimate such that:</p>
<p>\[w\_Shift_{i,c} = |B1_{i,c} - B_{i,c}| + \frac{|L1_{i,c} - L_{i,c}|+|U1_{i,c} - U_{i,c}|}{2},\]</p>
<p>where \(L1_{i,c}, B1_{i,c},U1_{i,c}\) are the first round lower, best and upper estimates (prior
to discussion) and \(L_{i,c}, B_{i,c},U1_{i,c}\) are the individual’s revised second round estimates
(after discussion).</p>
<p>\[\hat{p}_c(ShiftWAgg) = \sum_{i=1}^N \tilde{w}\_Shift_{i,c}B_{i,c}\]</p>
<p><strong>BestShiftWAgg</strong>: Weighted according to shifts in best estimates alone</p>
<p>Taking into account the fact that the scales best estimates are measured on are bounded,
we can calculate shifts relative to the largest possible shift.</p>
<p>\[w\_BestShift_{i,c}=
\begin{cases}
\frac{|B1_{i,c} - B_{i,c}|}{B1_{i,c}},
\begin{aligned}
\displaystyle &amp;\ for\ (B1_{i,c} &gt; 0.5\ and\ B_{i,c} \leq 0.5) \cr
\displaystyle &amp;\ or\ B_{i,c} &lt; B1_{i,c} \leq 0.5\ or\ B1_{i,c} &gt; B_{i,c} &gt; 0.5
\end{aligned} \cr
\frac{|B1_{i,c} - B_{i,c}|}{1- B1_{i,c}},
\begin{aligned}
\displaystyle &amp;\ for\ (B1_{i,c} &lt; 0.5\ and\ B_{i,c} \geq 0.5) \cr
\displaystyle &amp;\ or\ B1_{i,c} &lt; B_{i,c} &lt; 0.5\ or\ B_{i,c} &gt; B1_{i,c} &gt; 0.5.
\end{aligned}
\end{cases}\]</p>
<p>\[\hat{p}_c(BestShiftWAgg) = \sum_{i=1}^N \tilde{w}\_BestShift_{i,c}B_{i,c}\]</p>
<p><strong>IntShiftWAgg</strong>: Weighted by shifts in interval widths alone.</p>
<p>Individuals whose interval widths narrow between rounds are given more weight.</p>
<p>\[w\_IntShift_{i,c} = \frac{1}{(U_{i,c}-L_{i,c})-(U1_{i,c}-L1_{i,c})+1}\]</p>
<p>\[\hat{p}_c(IntShiftWAgg) = \sum_{i=1}^N \tilde{w}\_IntShift_{i,c}B_{i,c}\]</p>
<p><strong>DistShiftWAgg</strong>: Weighted by whether best estimates become more extreme (closer to 0 or 1) between rounds.</p>
<p>\[w\_DistShift_{i,c} = 1 - (\min (B_{i,c}, 1-B_{i,c}) - \min (B1_{i,c}, 1-B1_{i,c}))\]</p>
<p>\[\hat{p}_c(DistShiftWAgg) = \sum_{i=1}^N \tilde{w}\_DistShift_{i,c}B_{i,c}\]</p>
<p><strong>DistIntShiftWAgg</strong>: Rewards both narrowing of intervals and shifting towards the certainty limits between rounds.</p>
<p>We simply multiply the weights calculated in the "DistShiftWAgg" and "IntShiftWAgg" methods.</p>
<p>\[w\_DistIntShift_{i,c} = \tilde{w}\_IntShift_{i,c} \cdot \tilde{w}\_DistShift_{i,c}\]</p>
<p>\[\hat{p}_c(DistIntShiftWAgg) = \sum_{i=1}^N \tilde{w}\_DistIntShift_{i,c}B_{i,c}\]</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="fu">ShiftingWAgg</span><span class="op">(</span><span class="va">data_ratings</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Aaron Willcox, Charles T. Gray, Elliot Gould, David Wilkinson, Anca Hanea, Bonnie Wintle, Rose E. O’Dea.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

